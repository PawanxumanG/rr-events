<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RR International College - Notices</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="style.css">

<!-- âœ… GOOGLE ANALYTICS â€“ HOME PAGE (DEEP TRACKING) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9JW1V42V83"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('js', new Date());
gtag('config', 'G-9JW1V42V83', {
  page_title: 'RR Events Home',
  page_path: '/index.html'
});

/* PAGE LOAD EVENT */
gtag('event','home_loaded');
</script>

<style>
/* AI HELPER */
.ai-box{
    background:#161a22;
    border-radius:14px;
    padding:16px;
    margin-bottom:18px;
    box-shadow:0 0 18px rgba(0,0,0,.6);
}
.ai-box h2{margin-top:0;font-size:18px;}
.ai-btns button{
    width:100%;
    margin-top:10px;
    padding:12px;
    border:none;
    border-radius:10px;
    background:#0f1117;
    color:#fff;
    font-size:14px;
    cursor:pointer;
}
.ai-answer{
    margin-top:12px;
    font-size:14px;
    color:#ffcc80;
}

/* COUNTDOWN */
.countdown-box{
    background:linear-gradient(90deg,#6a11cb,#2575fc);
    border-radius:14px;
    padding:16px;
    margin:18px 0;
    color:#fff;
    text-align:center;
}
.countdown-time{
    font-size:20px;
    font-weight:700;
    margin-top:8px;
}

/* STREAK */
.streak-box{
    background:#161a22;
    border-radius:14px;
    padding:16px;
    margin-bottom:18px;
    box-shadow:0 0 18px rgba(0,0,0,.6);
    text-align:center;
}
.streak-box h2{
    margin-top:0;
    font-size:18px;
}
.streak-count{
    font-size:26px;
    font-weight:700;
    color:#ff9800;
}

/* VIDEO */
.video-box{
    background:#161a22;
    border-radius:14px;
    padding:14px;
    margin:24px 0;
    box-shadow:0 0 18px rgba(0,0,0,.6);
}
.video-box h2{
    margin-top:0;
    font-size:18px;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
    <h1>RR INTERNATIONAL COLLEGE</h1>
    <p>Notices & Updates</p>
</div>

<div class="container">

    <!-- ğŸ‘¨â€ğŸ« CHAIRMAN -->
    <button onclick="trackAndGo('chairman')" class="nav-btn">
        ğŸ‘¨â€ğŸ« OUR CHAIRMAN â€“ Shri R. R. Pardeshi
    </button>

    <!-- ğŸ“¢ IMPORTANT NOTICE -->
    <div class="event">
        <h2>ğŸ“¢ IMPORTANT NOTICE</h2>

        <p>
            All students are instructed to <b>open this app daily</b>
            for official notices, event updates, and important announcements.
        </p>

        <p>
            ğŸ® <b>Tic Tac Toe Challenge:</b><br>
            Play in <b>Hard Mode</b> and try to defeat the <b>RR AI Bot</b>.
            Can you stay undefeated? ğŸ”¥
        </p>

        <p class="text-muted">
            ğŸ“Œ All college updates will be published only in this app.
        </p>
    </div>

    <!-- ğŸ”¥ DAILY STREAK -->
    <div class="streak-box">
        <h2>ğŸ”¥ Daily Streak</h2>
        <p>You have opened this app</p>
        <div class="streak-count">
            ğŸ”¥ <span id="streakCount">1</span> Days in a Row
        </div>
        <p class="text-muted">
            Donâ€™t break your streak â€” open the app every day!
        </p>
    </div>

    <!-- ğŸ¤– AI STUDENT HELPER -->
    <div class="ai-box">
        <h2>ğŸ¤– Student Helper</h2>
        <div class="ai-btns">
            <button onclick="aiReply()">How to pay for Karmanya?</button>
        </div>
        <div class="ai-answer" id="aiAnswer"></div>
    </div>

    <!-- â³ COUNTDOWN -->
    <div class="countdown-box">
        <div>â³ KARMANYA 2025 COUNTDOWN</div>
        <div class="countdown-time" id="countdown"></div>
    </div>

    <!-- ğŸ–¼ï¸ POSTER -->
    <img src="karmanya.jpg" class="poster-img" alt="Karmanya Fest Poster">

    <!-- ğŸŸï¸ BUTTONS -->
    <button onclick="trackAndGo('karmanya')" class="nav-btn">
        ğŸŸï¸ KARMANYA 2025 â€“ Details & Payment
    </button>

    <button onclick="trackAndGo('album')" class="nav-btn">
        ğŸ“¸ Event Album
    </button>

    <button onclick="trackAndGo('events')" class="nav-btn">
        ğŸ“… View Events
    </button>

    <!-- ğŸ¬ PROMO VIDEO -->
    <div class="video-box">
        <h2>ğŸ¬ KARMANYA 2025 â€“ Official Promo</h2>
        <p class="text-muted">Feel the vibe of our Annual College Fest</p>

        <video
            src="karmanya_promo.mp4"
            controls
            playsinline
            preload="metadata"
            style="width:100%;border-radius:12px;max-height:260px;background:#000;">
            Your device does not support video playback.
        </video>
    </div>

</div>

<script src="script.js"></script>
<script src="random-colors.js"></script>

<script>
/* ğŸ”¥ DAILY STREAK LOGIC */
function updateDailyStreak(){
    const today = new Date().toISOString().split("T")[0];
    let lastVisit = localStorage.getItem("lastVisitDate");
    let streak = parseInt(localStorage.getItem("dailyStreak") || "0");

    if(!lastVisit){
        streak = 1;
    } else {
        const last = new Date(lastVisit);
        const now = new Date(today);
        const diffDays = Math.floor((now - last) / (1000*60*60*24));

        if(diffDays === 1){
            streak++;
        } else if(diffDays > 1){
            streak = 1;
        }
    }

    localStorage.setItem("lastVisitDate", today);
    localStorage.setItem("dailyStreak", streak);

    document.getElementById("streakCount").innerText = streak;

    gtag('event','daily_streak_update',{days:streak});
}
updateDailyStreak();

/* AI HELPER */
function aiReply(){
    document.getElementById("aiAnswer").innerText =
        "ğŸ’³ Open Karmanya â†’ Scan QR â†’ Pay â‚¹500 â†’ Send screenshot on WhatsApp with Name, Class, Roll No & Veg/Non-Veg.";
    gtag('event','ai_helper_used',{question:'karmanya_payment'});
}

/* BUTTON TRACKING */
function trackAndGo(type){
    gtag('event','home_click',{button:type});
    if(type==='karmanya') location.href='karmanya.html';
    if(type==='album') location.href='event_album.html';
    if(type==='events') openEvents();
    if(type==='chairman') location.href='chairman.html';
}

/* SCROLL DEPTH */
let scroll50=false, scroll90=false;
window.addEventListener('scroll',()=>{
    const scrolled=(window.scrollY+window.innerHeight)/document.body.scrollHeight*100;
    if(scrolled>50 && !scroll50){
        scroll50=true;
        gtag('event','scroll_50');
    }
    if(scrolled>90 && !scroll90){
        scroll90=true;
        gtag('event','scroll_90');
    }
});

/* COUNTDOWN */
const eventDate=new Date("2025-12-30T23:59:59").getTime();
setInterval(()=>{
    const now=new Date().getTime();
    const diff=eventDate-now;
    if(diff<=0){
        document.getElementById("countdown").innerText="ğŸ‰ Countdown Ended!";
        gtag('event','countdown_finished');
        return;
    }
    const d=Math.floor(diff/(1000*60*60*24));
    const h=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
    const m=Math.floor((diff%(1000*60*60))/(1000*60));
    const s=Math.floor((diff%(1000*60))/1000);
    document.getElementById("countdown").innerText=`${d}d : ${h}h : ${m}m : ${s}s`;
},1000);
</script>

</body>
</html>