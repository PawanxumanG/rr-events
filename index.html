<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RR International College - Notices</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="style.css">

<!-- GOOGLE ANALYTICS -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9JW1V42V83"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-9JW1V42V83', {
  page_title: 'RR Events Home',
  page_path: '/index.html'
});
gtag('event','home_loaded');
</script>

<style>
.streak-mini{
    background:#161a22;
    border-radius:12px;
    padding:12px 14px;
    margin-bottom:18px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:14px;
}
.streak-mini b{color:#ff9800;}

.ai-box{
    background:#161a22;
    border-radius:14px;
    padding:16px;
    margin-bottom:18px;
}
.ai-box h2{margin-top:0;}
.ai-btn{
    width:100%;
    margin-top:10px;
    padding:12px;
    border:none;
    border-radius:10px;
    background:linear-gradient(90deg,#ff9800,#ff6a00);
    color:#fff;
    font-size:14px;
}
.ai-answer{
    margin-top:12px;
    font-size:14px;
    color:#ffcc80;
    white-space:pre-wrap;
}

.countdown-box{
    background:linear-gradient(90deg,#6a11cb,#2575fc);
    border-radius:14px;
    padding:16px;
    margin:18px 0;
    color:#fff;
    text-align:center;
}
.countdown-time{
    font-size:20px;
    font-weight:700;
}
</style>
</head>

<body>

<div class="header">
    <h1>RR INTERNATIONAL COLLEGE</h1>
    <p>Notices & Updates</p>
</div>

<div class="container">

<!-- âœ… CHAIRMAN BUTTON (KEPT) -->
<button onclick="trackAndGo('chairman')" class="nav-btn">
ğŸ‘¨â€ğŸ« OUR CHAIRMAN â€“ Shri R. R. Pardeshi
</button>

<div class="event">
<h2>ğŸ“¢ IMPORTANT NOTICE</h2>
<p>Open this app daily for official notices and updates.</p>
</div>

<!-- ğŸ”¥ DAILY STREAK -->
<div class="streak-mini">
ğŸ”¥ Daily Streak <b><span id="streakCount">1</span> Day</b>
</div>

<!-- ğŸ¤– GEMINI AI -->
<div class="ai-box">
<h2>ğŸ¤– Gemini AI Helper</h2>

<button class="ai-btn" onclick="askGemini('How to pay for Karmanya event at RR International College?')">
ğŸ’³ How to pay for Karmanya?
</button>

<button class="ai-btn" onclick="askGemini('How to play Tic Tac Toe with RR AI Bot in RR Events App?')">
ğŸ® How to play with RR AI Bot?
</button>

<div class="ai-answer" id="aiAnswer"></div>
</div>

<!-- â³ COUNTDOWN -->
<div class="countdown-box">
â³ KARMANYA 2025 COUNTDOWN
<div class="countdown-time" id="countdown"></div>
</div>

<!-- ğŸ–¼ï¸ POSTER -->
<img src="karmanya.jpg" class="poster-img" alt="Poster">

<!-- âœ… MAIN NAV BUTTONS (NO GAMES ZONE HERE) -->
<button onclick="trackAndGo('karmanya')" class="nav-btn">
ğŸŸï¸ KARMANYA 2025
</button>

<button onclick="trackAndGo('album')" class="nav-btn">
ğŸ“¸ Event Album
</button>

<button onclick="trackAndGo('events')" class="nav-btn">
ğŸ“… View Events
</button>

</div>

<script>
/* ===== DAILY STREAK ===== */
let today=new Date().toDateString();
let lastDate=localStorage.getItem("lastOpenDate");
let streak=parseInt(localStorage.getItem("dailyStreak")||"0");
if(lastDate!==today){
    streak = lastDate ? streak+1 : 1;
    localStorage.setItem("dailyStreak",streak);
    localStorage.setItem("lastOpenDate",today);
}
document.getElementById("streakCount").innerText=streak;

/* ğŸ”‘ GEMINI API KEY */
const GEMINI_API_KEY = "AIzaSyBKHcGArZJqyzRkaFYbpKaDzu5I25YbaqU";

/* ğŸ¤– GEMINI FUNCTION */
async function askGemini(question){
    const box=document.getElementById("aiAnswer");
    box.innerText="ğŸ¤– Thinking...";

    try{
        const res = await fetch(
          "https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key="+GEMINI_API_KEY,
          {
            method:"POST",
            headers:{"Content-Type":"application/json"},
            body:JSON.stringify({
              contents:[{parts:[{text:question}]}]
            })
          }
        );
        const data = await res.json();
        box.innerText = data.candidates?.[0]?.content?.parts?.[0]?.text || "No response";
    }catch(e){
        box.innerText="âŒ AI error. Try again.";
    }
}

/* NAVIGATION */
function trackAndGo(type){
    if(type==='karmanya') location.href='karmanya.html';
    if(type==='album') location.href='event_album.html';
    if(type==='events') openEvents?.();
    if(type==='chairman') location.href='chairman.html';
}

/* COUNTDOWN */
const eventDate=new Date("2025-12-30T23:59:59").getTime();
setInterval(()=>{
    const diff=eventDate-new Date().getTime();
    if(diff<=0)return;
    const d=Math.floor(diff/86400000);
    const h=Math.floor((diff%86400000)/3600000);
    const m=Math.floor((diff%3600000)/60000);
    const s=Math.floor((diff%60000)/1000);
    document.getElementById("countdown").innerText=
        `${d}d : ${h}h : ${m}m : ${s}s`;
},1000);
</script>

</body>
</html>