<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sports Hall of Fame ‚Äì RR International College</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- GOOGLE ANALYTICS -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9JW1V42V83"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config','G-9JW1V42V83',{
  page_title:'Sports Hall of Fame',
  page_path:'/leaderboard.html'
});
</script>

<style>
/* ================= BASE ================= */
body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  color:#ffffff;
  min-height:100vh;
  background-size:400% 400%;
  transition:background .6s ease;
}

/* Animated background (admin controlled) */
.animated-bg{
  animation:bgMove linear infinite;
}
@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* ================= HEADER ================= */
.header{
  background:linear-gradient(90deg,#ff6a00,#ff9800);
  text-align:center;
  padding:16px;
}
.header h1{
  margin:0;
  font-size:20px;
  font-weight:800;
}
.header p{
  margin-top:6px;
  font-size:13px;
  opacity:.9;
}

/* ================= CARDS ================= */
.container{
  padding-bottom:20px;
}

.leader-card{
  margin:16px;
  padding:18px;
  border-radius:18px;
  background-size:200% 200%;
  box-shadow:0 20px 40px rgba(0,0,0,.55);
  animation:fadeUp .6s ease;
  transition:transform .25s ease, box-shadow .25s ease;
}
.leader-card:hover{
  transform:translateY(-3px);
  box-shadow:0 30px 60px rgba(0,0,0,.7);
}

.leader-card h2{
  margin:0 0 10px;
  font-size:18px;
  color:#ffcc80;
}

/* ================= WINNERS ================= */
.winner{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(255,255,255,0.06);
  border-radius:12px;
  padding:10px 14px;
  margin-top:10px;
  font-size:14px;
}

.badge{
  font-weight:800;
}
.gold{color:#ffd700}
.silver{color:#c0c0c0}
.bronze{color:#cd7f32}

/* ================= BUTTON ================= */
.back-btn{
  width:90%;
  max-width:320px;
  margin:26px auto;
  padding:14px;
  border:none;
  border-radius:14px;
  font-size:15px;
  font-weight:700;
  background:linear-gradient(135deg,#00c6ff,#0072ff);
  color:#fff;
  display:block;
  cursor:pointer;
}

/* ================= ANIMATIONS ================= */
@keyframes fadeUp{
  from{opacity:0;transform:translateY(15px)}
  to{opacity:1;transform:none}
}
</style>
</head>

<body>

<div class="header">
  <h1>RR INTERNATIONAL COLLEGE</h1>
  <p>Sports Hall of Fame</p>
</div>

<div class="container" id="leaderboard"></div>

<button class="back-btn" onclick="location.href='index.html'">
‚Üê Back to Home
</button>

<script>
fetch('leaderboard.json?t=' + Date.now())
.then(res => res.json())
.then(data => {

  if(!data.show){
    document.getElementById('leaderboard').innerHTML =
      "<p style='text-align:center;opacity:.7'>Results will be announced soon.</p>";
    return;
  }

  /* ================= THEME FROM ADMIN ================= */
  if(data.theme){
    const bgSet = data.theme.backgroundGradients || [];
    const bgIndex = data.theme.activeBg || 0;

    if(bgSet[bgIndex]){
      document.body.style.background =
        `linear-gradient(135deg, ${bgSet[bgIndex].join(",")})`;

      if(data.theme.animate){
        document.body.classList.add("animated-bg");
        document.body.style.animationDuration =
          (data.theme.animationSpeed || 12) + "s";
      }
    }
  }

  const container = document.getElementById('leaderboard');

  data.sports.forEach(sport => {
    const card = document.createElement('div');
    card.className = 'leader-card';

    /* CARD GRADIENT */
    if(data.theme?.cardGradients){
      const ci = data.theme.activeCard || 0;
      const cg = data.theme.cardGradients[ci];
      if(cg){
        card.style.background =
          `linear-gradient(135deg, ${cg.join(",")})`;
      }
    }

    let html = `<h2>üèÖ ${sport.sport}</h2>`;

    sport.winners.forEach(w => {
      let cls =
        w.position === 1 ? 'gold' :
        w.position === 2 ? 'silver' : 'bronze';

      html += `
        <div class="winner">
          <span class="badge ${cls}">#${w.position}</span>
          <span>${w.name}</span>
          <span>${w.class}</span>
        </div>
      `;
    });

    card.innerHTML = html;
    container.appendChild(card);

    gtag('event','sport_result_view',{
      event_category:'Sports',
      event_label:sport.sport
    });
  });

})
.catch(() => {
  document.getElementById('leaderboard').innerHTML =
    "<p style='text-align:center;color:#ff5555'>Unable to load leaderboard.</p>";
});
</script>

</body>
</html>